var express=require("express"),Student=require("./students"),router=express.Router();router.get("/students",function(t,n){Student.find(function(t,e){if(t)return n.status(500).send(t);n.render("index.html",{students:e})})}),router.get("/students/new",function(t,e){e.render("new.html")}),router.post("/students/new",function(t,n){Student.new(t.body,function(t,e){if(t)return n.status(500).send(t);n.redirect("/students")})}),router.get("/students/edit",function(t,n){Student.findById(t.query.id,function(t,e){if(t)return n.status(500).send(t);n.render("edit.html",{student:e})})}),router.post("/students/edit",function(t,e){Student.edit(t.body,function(t){if(t)return e.status(500).send(t);e.redirect("/students")})}),router.get("/students/delete",function(t,n){Student.deleteById(t.query.id,function(t,e){if(t)return n.status(500).send(t);n.redirect("/students")})}),module.exports=router;